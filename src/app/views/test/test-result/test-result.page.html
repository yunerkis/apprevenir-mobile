<div *ngIf="load">
  <div class="result__tab-content">
    <div class="result__tab" [ngClass]="{'active': tab == 'result'}" (click)="toggletab('result')">
      <ion-icon name="alert-circle-outline"></ion-icon>
      <ion-label>Resultado</ion-label>
    </div>
    <div class="result__tab" [ngClass]="{'active': tab == 'info'}" (click)="toggletab('info')">
      <ion-icon name="caret-forward-circle-outline"></ion-icon>
      <ion-label>Informaci√≥n</ion-label>
    </div>
    <div class="result__tab" [ngClass]="{'active': tab == 'help'}" (click)="toggletab('help')">
      <ion-icon name="headset"></ion-icon>
      <ion-label>Ayuda</ion-label>
    </div>
    <div class="result__tab" [ngClass]="{'active': tab == 'link'}" (click)="toggletab('link')">
      <ion-icon name="school-outline"></ion-icon>
      <ion-label>Enlaces</ion-label>
    </div>
  </div>
  <div *ngFor="let testResult of testResults; let i = index">
    <div *ngIf="tab == 'result'">
      <div *ngIf="gifLevel[testResult.resultLevel]">
        <div class="result__warning">
            <img src="../../../../assets/icon/help.png" class="test__help" alt="help" (click)="openModal(testResult.resultLevel)">
            <div [innerHTML]="gifLevel[testResult.resultLevel]" class="test-img"></div>
            <div [style]="colorsLevel[testResult.resultLevel]">{{testResult.resultLevel}}</div>
            <div [style]="colorsLevel[testResult.resultLevel]">{{testResult.addiction}}</div>
        </div>
      </div>
    </div>
    <div class="tab-info" *ngIf="tab == 'info'">
      <div [style]="colorsLevel[testResult.resultLevel]" class="tab-info-color">{{testResult.addiction}}</div>
      <iframe width="100%" height="315" [src]="getVideoIframe(testResult.url_video)" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>
    <div *ngIf="tab == 'help'">
      <div [style]="colorsLevel[testResult.resultLevel]" class="tab-info-color">{{testResult.addiction}}</div>
      <div class="tab-info" [innerHTML]="testResult.professional_help">
      </div>
    </div>
    <div *ngIf="tab == 'link'">
      <div [style]="colorsLevel[testResult.resultLevel]" class="tab-info-color">{{testResult.addiction}}</div>
      <div class="tab-info link" [innerHTML]="testResult.url_interest">
      </div>
    </div>
    
  </div>
</div>
